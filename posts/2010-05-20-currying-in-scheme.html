<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--[if lt IE 7 ]> <html lang="<haml:loud> config[:meta_data][:lang] </haml:loud>" class="no-js ie ie6 lte7 lte8 lte9"> <![endif]-->
<!--[if IE 7 ]> <html lang="<haml:loud> config[:meta_data][:lang] </haml:loud>" class="no-js ie ie7 lte7 lte8 lte9"> <![endif]-->
<!--[if IE 8 ]> <html lang="<haml:loud> config[:meta_data][:lang] </haml:loud>" class="no-js ie ie8 lte8 lte9"> <![endif]-->
<!--[if IE 9 ]> <html lang="<haml:loud> config[:meta_data][:lang] </haml:loud>" class="no-js ie ie9 lte9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]> ><! <![endif]-->
<html class='no-js' lang='en'>
  <!-- <![endif] -->
  <head>
    <meta charset='utf-8' />
    <title>
      Currying in scheme
      &bull; Ramblings of Boy Maas
    </title>
    <meta content='width=device-width, initial-scale=1.0' name='viewport' />
    <meta content='0B2b3BMieI7ywPGWTSIwssHMzAmCiTI1SI7sCe46sdk' name='google-site-verification' />
    <link href='/feed' rel='alternate' title='Ramblings of Boy Maas Atom feed' type='application/atom+xml' />
    <link href='/assets/styles.css' rel='stylesheet' />
    <script src='/assets/lib.js' type='text/javascript'></script>
    <link href='/favicon.png' rel='shortcut icon' />
    <body>
      <div id='page'>
        <div id='header' role='banner'>
          <h1>
            <a href='/'>
              Boy Maas
              <span class='nick'>(m4nic)</span>
            </a>
            <br />
            <span class='subtitle'>
              <span class='about'>>> define-syntax beauty</span>
               ....
            </span>
          </h1>
          <div id='nav'>
            <ul>
              <li>
                <a href='/'>Home</a>
              </li>
              <li>
                <a class='clickme' href='/work.html'>Portfolio</a>
              </li>
              <li>
                <a href='/posts.html'>All posts</a>
              </li>
            </ul>
          </div>
        </div>
        <!-- /header -->
        <div id='content' role='maincontent'>
          <p>Coming from haskell i was looking around for a way to apply currying inside scheme. I came
on the following macro via: <a href="http://paste.lisp.org/display/36324">this paste</a>.</p>

<pre><code>(define-syntax curried
(syntax-rules ()
    ((curried () body ...) (lambda () body ...))
    ((curried (arg) body ...) (lambda (arg) body ...))
    ((curried (arg args ...) body ...)
     (lambda (arg . rest)
         (let ((next (curried (args ...) body ...)))
             (if (null? rest)
                     next
                     (apply next rest)))))))

(define-syntax define-curried
    (syntax-rules ()
        ((define-curried (name args ...) body ...)
         (define name (curried (args ...) body ...)))))
</code></pre>

<p>Notice how <code>define-curried</code> uses the pattern match on <code>name</code> recursively to recursivly apply the curried macro to every
argument.</p>

<pre><code>(define-curried (mad a b c)
    (+ (* a b) c))

    (mad 2 3 4)
    ((mad 2) 3 4)
    ((mad 2 3) 4)
    (((mad 2) 3) 4)
</code></pre>
<div id='disqus_thread'></div>
<script src='http://disqus.com/forums/bloyg/embed.js' type='text/javascript'></script>
<noscript>
  <a href='http://disqus.com/forums/bloyg/?url=ref'>View the discussion thread.</a>
</noscript>
          <hr style='clear: both;width: 100%;height: 0px;' />
        </div>
        <!-- /content -->
        <div id='footer' role='contentinfo'>
          <p class='col'>
            Â© Copyright 2010-2011 Boy Maas
            // Powered by
            <a href='https://www.github.com/boymaas/Hobber'>boymaas/Hobber</a>
          </p>
        </div>
        <!-- /footer -->
        <!-- /page -->
      </div>
      <a href='https://github.com/boymaas'>
        <img alt='Fork me on GitHub' src='https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png' style='position: absolute; top: 0; right: 0; border: 0;' />
      </a>
      <script src='/assets/lib.js'></script>
      <script type='text/javascript'>
        //<![CDATA[
          var _gaq = [['_setAccount', 'UA-561813-3'], ['_trackPageview']];
          (function(d, t) {
              var g = d.createElement(t),
                  s = d.getElementsByTagName(t)[0];
              g.async = true;
              g.src = '//www.google-analytics.com/ga.js';
              s.parentNode.insertBefore(g, s);
          })(document, 'script');
        //]]>
      </script>
      <script type='text/javascript'>
        //<![CDATA[
          (function() {
              var links = document.getElementsByTagName('a');
              var query = '?';
              for(var i = 0; i < links.length; i++) {
                  if(links[i].href.indexOf('#disqus_thread') >= 0) {
                      query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
                  }
              }
              document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/bloyg/get_num_replies.js' + query + '"></' + 'script>');
          })();
        //]]>
      </script>
    </body>
  </head>
</html>
